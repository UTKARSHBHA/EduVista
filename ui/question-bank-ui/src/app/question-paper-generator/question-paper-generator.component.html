<div class="form-container">
  <form [formGroup]="questionPaperForm" (ngSubmit)='generateQuestionPaper()'>
    <!-- Standard -->
    <div class="formField">
      <label for="standard">Standard:</label>
      <select id="standard" formControlName="standard">
        <option *ngFor="let standard of standards" [value]="standard.id">{{standard.name}}</option>
      </select>
    </div>
    <!-- Subject -->
    <div class="formField">

      <label for="subject">Subject:</label>
      <select id="subject" (change)="onSubjectSelected($event)" formControlName="subject">
        <option *ngFor="let subject of subjects" [value]="subject.id">{{subject.name}}</option>
      </select>
    </div>
    <!-- Chapter -->
    <div *ngIf="chapters.length" class="formField">
      <label for="chapter">Chapter:</label>
      <div class="chapterContainer">
        <div class="checkbox" *ngFor="let chapter of chapters">
          <input type="checkbox" id="{{'chapter' + chapter.id}}" [value]="chapter.id"
            (change)="onChapterSelected($event, chapter.id)">
          <label for="{{'chapter' + chapter.id}}">{{chapter.name}}</label>
        </div>
      </div>
    </div>
    <!-- Topic -->
    <div *ngIf="topics.length" class="formField">
      <label for="topic">Topic:</label>
      <div class="topicContainer">
        <div class="checkbox" *ngFor="let topic of topics">
          <input type="checkbox" id="{{'topic'+topic.id}}" [value]="topic.id"
            (change)="onTopicSelected($event, topic.id)">
          <label for="{{'topic'+topic.id}}">{{topic.name}}</label>
        </div>
      </div>
    </div>
    <!-- Difficulty Levels and Question Counts -->
    <div *ngIf="selectedTopics.length" class="formField">
      <label>Difficulty Levels and Question Counts:</label>
      <div class="difficulty-levels">
        <div *ngFor="let difficulty of ['easy', 'medium', 'hard']">
          <label>{{ difficulty | titlecase }} Questions:</label>
          <input type="number" [formControlName]="difficulty">
        </div>
      </div>
    </div>
    <div *ngIf="selectedTopics.length" class="formField">
      <label>Questions Types and Question Counts:</label>
      <div class="question-types">
        <div *ngFor="let qType of ['mcq', 'tf', 'descriptive']">
          <label>{{ qType | titlecase }} Questions:</label>
          <input type="number" [formControlName]="qType">
        </div>
      </div>
    </div>
    <button type="submit" [disabled]="!selectedChapters">Generate Question Paper</button>
  </form>
</div>